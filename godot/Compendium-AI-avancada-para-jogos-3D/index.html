<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url('https://themes.googleusercontent.com/fonts/css?kit=N4duVc9C58uwPiY8_59Fz_5Jgr8ufe5A6KahQF76Xmg');.lst-kix_adsovnsx6264-3>li:before{content:"\0025cf  "}.lst-kix_adsovnsx6264-1>li:before{content:"\0025cb  "}.lst-kix_adsovnsx6264-5>li:before{content:"\0025a0  "}.lst-kix_adsovnsx6264-0>li:before{content:"\0025cf  "}.lst-kix_adsovnsx6264-4>li:before{content:"\0025cb  "}.lst-kix_bshjwc2x7g1e-6>li:before{content:"\0025cf  "}.lst-kix_bshjwc2x7g1e-4>li:before{content:"\0025cb  "}.lst-kix_bshjwc2x7g1e-5>li:before{content:"\0025a0  "}.lst-kix_adsovnsx6264-2>li:before{content:"\0025a0  "}.lst-kix_bshjwc2x7g1e-2>li:before{content:"\0025a0  "}.lst-kix_bshjwc2x7g1e-3>li:before{content:"\0025cf  "}ul.lst-kix_adsovnsx6264-2{list-style-type:none}ul.lst-kix_adsovnsx6264-1{list-style-type:none}ul.lst-kix_adsovnsx6264-0{list-style-type:none}.lst-kix_adsovnsx6264-8>li:before{content:"\0025a0  "}ul.lst-kix_adsovnsx6264-6{list-style-type:none}ul.lst-kix_adsovnsx6264-5{list-style-type:none}ul.lst-kix_adsovnsx6264-4{list-style-type:none}ul.lst-kix_adsovnsx6264-3{list-style-type:none}.lst-kix_adsovnsx6264-7>li:before{content:"\0025cb  "}.lst-kix_bshjwc2x7g1e-0>li:before{content:"\0025cf  "}.lst-kix_bshjwc2x7g1e-1>li:before{content:"\0025cb  "}ul.lst-kix_adsovnsx6264-8{list-style-type:none}.lst-kix_adsovnsx6264-6>li:before{content:"\0025cf  "}ul.lst-kix_adsovnsx6264-7{list-style-type:none}.lst-kix_ijoypide99jf-2>li:before{content:"\0025a0  "}.lst-kix_ijoypide99jf-1>li:before{content:"\0025cb  "}.lst-kix_ijoypide99jf-3>li:before{content:"\0025cf  "}.lst-kix_ijoypide99jf-6>li:before{content:"\0025cf  "}.lst-kix_ijoypide99jf-5>li:before{content:"\0025a0  "}.lst-kix_ijoypide99jf-4>li:before{content:"\0025cb  "}ul.lst-kix_bshjwc2x7g1e-8{list-style-type:none}ul.lst-kix_bshjwc2x7g1e-7{list-style-type:none}ul.lst-kix_bshjwc2x7g1e-6{list-style-type:none}ul.lst-kix_bshjwc2x7g1e-5{list-style-type:none}ul.lst-kix_bshjwc2x7g1e-4{list-style-type:none}ul.lst-kix_bshjwc2x7g1e-3{list-style-type:none}ul.lst-kix_bshjwc2x7g1e-2{list-style-type:none}ul.lst-kix_bshjwc2x7g1e-1{list-style-type:none}ul.lst-kix_bshjwc2x7g1e-0{list-style-type:none}.lst-kix_bshjwc2x7g1e-7>li:before{content:"\0025cb  "}.lst-kix_ijoypide99jf-0>li:before{content:"\0025cf  "}.lst-kix_bshjwc2x7g1e-8>li:before{content:"\0025a0  "}ul.lst-kix_ijoypide99jf-8{list-style-type:none}ul.lst-kix_ijoypide99jf-7{list-style-type:none}ul.lst-kix_ijoypide99jf-6{list-style-type:none}ul.lst-kix_ijoypide99jf-5{list-style-type:none}ul.lst-kix_ijoypide99jf-4{list-style-type:none}ul.lst-kix_ijoypide99jf-3{list-style-type:none}ul.lst-kix_ijoypide99jf-2{list-style-type:none}ul.lst-kix_ijoypide99jf-1{list-style-type:none}ul.lst-kix_ijoypide99jf-0{list-style-type:none}.lst-kix_ijoypide99jf-7>li:before{content:"\0025cb  "}.lst-kix_ijoypide99jf-8>li:before{content:"\0025a0  "}ol{margin:0;padding:0}table td,table th{padding:0}.c0{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left;height:11pt}.c8{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c3{color:#cccccc;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c2{color:#ffffff;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Arial";font-style:normal}.c16{padding-top:20pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:center}.c14{color:#ee5720;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Roboto Mono";font-style:normal}.c1{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c9{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:center}.c12{font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial"}.c22{font-weight:400;text-decoration:none;vertical-align:baseline;font-family:"Arial"}.c21{text-decoration:none;vertical-align:baseline;font-size:20pt;font-style:normal}.c15{text-decoration:none;vertical-align:baseline;font-family:"Arial";font-style:normal}.c18{color:#000000;font-weight:400;font-size:12pt}.c4{font-size:12pt;color:#ffffff;font-weight:700}.c20{color:#ee5720;font-weight:700;font-size:12pt}.c19{font-family:"Roboto Mono";color:#ee5720;font-weight:700}.c24{background-color:#0c1013;max-width:451.4pt;padding:72pt 72pt 72pt 72pt}.c6{color:#ffffff;font-size:12pt}.c5{margin-left:36pt;padding-left:0pt}.c25{margin-left:72pt;padding-left:0pt}.c17{color:#ffffff;font-style:normal}.c10{color:#ffffff;font-style:italic}.c23{padding:0;margin:0}.c11{font-style:italic}.c13{height:11pt}.c7{margin-left:36pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c24"><p class="c9"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 188.00px; height: 88.00px;"><img alt="" src="images/image28.png" style="width: 188.00px; height: 88.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c9 c13"><span class="c12 c17"></span></p><p class="c0"><span class="c12 c17"></span></p><p class="c1"><span class="c3">Neste tutorial voc&ecirc; ir&aacute; aprender como criar uma intelig&ecirc;ncia artificial que segue o jogador pelo cen&aacute;rio em um jogo 3D. Para isso usaremos o node Navigation.</span></p><p class="c0"><span class="c3"></span></p><p class="c1"><span class="c3">T&oacute;picos:</span></p><ul class="c23 lst-kix_bshjwc2x7g1e-0 start"><li class="c1 c5"><span class="c3">O que &eacute; Pathfind</span></li><li class="c1 c5"><span class="c3">O que &eacute; o Navigation</span></li><li class="c1 c5"><span class="c3">Estrutura da Cena</span></li></ul><ul class="c23 lst-kix_bshjwc2x7g1e-1 start"><li class="c1 c25"><span class="c3">Criando o espa&ccedil;o de movimento<br></span></li></ul><ul class="c23 lst-kix_bshjwc2x7g1e-0"><li class="c1 c5"><span class="c3">C&oacute;digo Principal</span></li><li class="c1 c5"><span class="c3">C&oacute;digo do Inimigo</span></li><li class="c1 c5"><span class="c3">Melhorando a Movimenta&ccedil;&atilde;o do Inimigo</span></li></ul><ul class="c23 lst-kix_bshjwc2x7g1e-1 start"><li class="c1 c25"><span class="c3">Sistema de Rota&ccedil;&atilde;o Suave</span></li></ul><p class="c0"><span class="c8"></span></p><h1 class="c16" id="h.fy0h7463gfc1"><span class="c19">O que &eacute; Pathfind</span></h1><p class="c9 c13"><span class="c12 c10"></span></p><p class="c9"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 535.00px; height: 300.00px;"><img alt="" src="images/image4.gif" style="width: 535.00px; height: 300.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c9"><span class="c10 c12">Exemplo de pathfind</span></p><p class="c9 c13"><span class="c12 c10"></span></p><p class="c1"><span class="c6">Pathfinding significa em ingl&ecirc;s busca de caminho. O algoritmo respons&aacute;vel por mover um personagem de um ponto a outro, desviando de obst&aacute;culos, &eacute; famoso pois &eacute; usado muito por programadores de games. A movimenta&ccedil;&atilde;o de agentes (um personagem do jogo) em um espa&ccedil;o &eacute; um dos segmento da Intelig&ecirc;ncia Artificial mais comuns na produ&ccedil;&atilde;o de games. O objetivo desse tipo de algoritmo &eacute; achar o caminho mais r&aacute;pido entre dois pontos ( por exemplo: o inimigo &eacute; o jogador) evitando obst&aacute;culos, como paredes ou outros obst&aacute;culos.</span></p><p class="c9 c13"><span class="c8"></span></p><h1 class="c16" id="h.9kn7rs46g0vw"><span class="c21 c19">O que &eacute; o Navigation</span></h1><p class="c0"><span class="c2"></span></p><p class="c1"><span class="c6">O node </span><span class="c4">Navigation</span><span class="c6">&nbsp;&eacute; respons&aacute;vel por encontrar este caminho. Ele possui m&eacute;todos para encontrar o caminho dentro de uma malha, esta malha &eacute; um node chamado </span><span class="c4">NavigationMeshInstance</span><span class="c6">. Basicamente esta malha &eacute; o caminho que representa onde um personagem controlado pelo </span><span class="c4">Navigation</span><span class="c2">&nbsp;pode se locomover.</span></p><p class="c0"><span class="c2"></span></p><p class="c9"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 486.00px; height: 316.00px;"><img alt="" src="images/image15.png" style="width: 486.00px; height: 316.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c9"><span class="c10">O espa&ccedil;o mais claro &eacute; a malha do node </span><span class="c10">NavigationMeshInstance</span><span class="c10">, que representa o espa&ccedil;o f&iacute;sico onde um agente pode se mover</span></p><h1 class="c16" id="h.ycyvixs6t0p2"><span class="c21 c19">Estrutura da Cena</span></h1><p class="c1"><span class="c6">Antes de prosseguir, &eacute; preciso entender a estrutura do node Navigation. O Navigation precisa de um </span><span class="c6">node</span><span class="c6">&nbsp;filho chamado </span><span class="c4">NavigationMeshInstance</span><span class="c6">. Isto &eacute; importante, pois este &eacute; o </span><span class="c6">node</span><span class="c6">&nbsp;que representa o caminho que o agente vai se mover o qual n&oacute;s iremos gerar este caminho. Quando geramos este caminho estamos fazendo um &ldquo;</span><span class="c6 c11">bake</span><span class="c6">&rdquo; que ingl&ecirc;s significa cozinhar. Para realizar o &ldquo;</span><span class="c6 c11">bake</span><span class="c6">&rdquo; precisamos de alguns nodes de malha, que podem ser um </span><span class="c4">MeshInstance</span><span class="c6">&nbsp;ou algum node do tipo CSG. Estes nodes devem ser filho do node </span><span class="c4">NavigationMeshInstance</span><span class="c4">.<br></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 602.00px; height: 208.00px;"><img alt="" src="images/image13.png" style="width: 602.00px; height: 208.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c2"></span></p><p class="c0"><span class="c2"></span></p><p class="c1"><span class="c6">Tamb&eacute;m temos um node para colocar os inimigos, um Player que se movimenta em 8 dire&ccedil;&otilde;es (Veja o Compendium - &nbsp;Movimento em 8 Dire&ccedil;&otilde;es 23) e o </span><span class="c15 c4">Navigation.</span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 215.00px; height: 139.00px;"><img alt="" src="images/image20.png" style="width: 215.00px; height: 139.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c2"></span></p><p class="c1"><span class="c2">Repare na mensagem de erro pr&oacute;xima ao node. </span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 210.00px; height: 102.00px;"><img alt="" src="images/image2.png" style="width: 210.00px; height: 102.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c2"></span></p><p class="c1"><span class="c6">Ele est&aacute; informando que precisamos um </span><span class="c6">NavigationMesh</span><span class="c6">&nbsp;para o node </span><span class="c4">NavigationMeshInstance</span><span class="c4">.</span><span class="c6">&nbsp;Para fazer isso selecione o node e no Inspector crie um novo </span><span class="c6">NavigationMesh</span><span class="c2">.</span></p><p class="c0"><span class="c2"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 320.00px; height: 327.00px;"><img alt="" src="images/image14.gif" style="width: 320.00px; height: 327.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c2"></span></p><p class="c1"><span class="c6">Ap&oacute;s montar a cena desejada, selecionamos o node </span><span class="c4">NavigationMeshInstance</span><span class="c6">. Ao fazer isso um bot&atilde;o ir&aacute; surgir na parte de cima da Viewport chamado Bake NavMesh. Clique neste bot&atilde;o para gerar a malha de movimenta&ccedil;&atilde;o dos agentes.<br><br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 602.00px; height: 101.33px;"><img alt="" src="images/image8.png" style="width: 602.00px; height: 101.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c2"></span></p><p class="c1"><span class="c2">Ap&oacute;s carregar, a malha de navega&ccedil;&atilde;o estar&aacute; constru&iacute;da e pronta para ser usada.</span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 411.50px; height: 258.77px;"><img alt="" src="images/image22.png" style="width: 411.50px; height: 258.77px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c6"><br><br></span><span class="c19 c21">C&oacute;digo Principal</span></p><p class="c0"><span class="c8"></span></p><p class="c1"><span class="c2">Antes de prosseguir, crie um Script para o node fase, depois vamos adicionar um node Timer na cena, este timer ser&aacute; respons&aacute;vel por ficar chamando a fun&ccedil;&atilde;o que ir&aacute; calcular o melhor caminho para o alcan&ccedil;ar o jogador. Como o jogador se move o tempo todo o tempo desse timer deve ser baixo.</span></p><p class="c0"><span class="c2"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 225.00px; height: 65.00px;"><img alt="" src="images/image23.png" style="width: 225.00px; height: 65.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c2"></span></p><p class="c1"><span class="c2">Crie j&aacute; um sinal no Timer para chamar no c&oacute;digo da fase. Mude as configura&ccedil;&otilde;es do Timer para estes valores:</span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 249.00px; height: 198.00px;"><img alt="" src="images/image25.png" style="width: 249.00px; height: 198.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c2"></span></p><p class="c1"><span class="c2">As primeira linhas de c&oacute;digo ser&atilde;o dentro do sinal criado pelo Timer:</span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 602.00px; height: 121.33px;"><img alt="" src="images/image3.png" style="width: 602.00px; height: 121.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c2"></span></p><p class="c1"><span class="c2">Na linha 4 estamos pegando a posi&ccedil;&atilde;o do jogador e na linha 5 pegamos o node Navigation. Agora vamos criar um c&oacute;digo para ficar atualizando o movimento de todos os inimigos. O c&oacute;digo ser&aacute; esse:</span></p><p class="c0"><span class="c2"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 602.00px; height: 245.33px;"><img alt="" src="images/image1.png" style="width: 602.00px; height: 245.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c2"></span></p><p class="c1"><span class="c6">Na linha 7 iniciamos um loop que ir&aacute; executar o c&oacute;digo para cada inimigo filho do node Enemies. A fun&ccedil;&atilde;o </span><span class="c6 c11">get_simple_path</span><span class="c6 c11">( )</span><span class="c6">&nbsp;busca o melhor caminho entre o inimigo atual ( </span><span class="c6 c11">enemy.</span><span class="c6 c11">global_position</span><span class="c6">&nbsp;) e o jogador ( </span><span class="c6 c11">player</span><span class="c2">&nbsp;). </span></p><p class="c0"><span class="c2"></span></p><p class="c1"><span class="c2">Na linha 11 verificamos se o caminho at&eacute; o jogador &eacute; poss&iacute;vel, se for o chamamos a fun&ccedil;&atilde;o que faz o inimigo come&ccedil;ar andar pelo caminho. Esta fun&ccedil;&atilde;o ainda n&atilde;o existe, vamos ter que criar ela mais para frente no inimigo.</span></p><p class="c0"><span class="c2"></span></p><p class="c1"><span class="c6">Basicamente o que este c&oacute;digo faz &eacute; isto:<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 379.00px; height: 408.00px;"><img alt="" src="images/image21.jpg" style="width: 379.00px; height: 408.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c2"></span></p><p class="c1"><span class="c2">Ele cria um caminho por pontos, que s&atilde;o coordenadas para cada inimigo seguir.</span></p><p class="c0"><span class="c2"></span></p><h1 class="c16" id="h.wer4wptb85hc"><span class="c21 c19">C&oacute;digo do Inimigo </span></h1><p class="c1"><span class="c6">Para criar a cena do inimigo vamos usar um </span><span class="c4">KinematicBody</span><span class="c6">. Mude o nome desse node para </span><span class="c4">Enemy</span><span class="c6">. Coloque o </span><span class="c4">Collision Shape</span><span class="c2">&nbsp;que ir&aacute; representar a colis&atilde;o do objeto.</span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 153.00px; height: 56.00px;"><img alt="" src="images/image9.png" style="width: 153.00px; height: 56.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c2"></span></p><p class="c1"><span class="c2">Use o formato de Sphere</span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 466.00px; height: 445.00px;"><img alt="" src="images/image19.gif" style="width: 466.00px; height: 445.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c2"></span></p><p class="c1"><span class="c2">Ap&oacute;s isso voc&ecirc; deve adicionar um node Spatial e dois Nodes MeshInstance. Crie uma estrutura como esta:</span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 513.00px; height: 232.00px;"><img alt="" src="images/image10.gif" style="width: 513.00px; height: 232.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c2"></span></p><p class="c1"><span class="c2">Crie Malhas para os objetos criados</span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 513.00px; height: 232.00px;"><img alt="" src="images/image29.gif" style="width: 513.00px; height: 232.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c2"></span></p><p class="c1"><span class="c2">Voc&ecirc; pode tamb&eacute;m criar materiais para os objetos, a fim de mudar a cor deles.</span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 513.00px; height: 267.00px;"><img alt="" src="images/image18.gif" style="width: 513.00px; height: 267.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c2"></span></p><p class="c1"><span class="c6">Crie um Script para o inimigo. As primeiras vari&aacute;veis desse script ser&atilde;o </span><span class="c6 c11">speed</span><span class="c6">&nbsp;e </span><span class="c6 c11">path</span><span class="c2">. </span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 248.00px; height: 91.00px;"><img alt="" src="images/image17.png" style="width: 248.00px; height: 91.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c2"></span></p><p class="c1"><span class="c2">A vari&aacute;vel path ser&aacute; usado para armazenar o caminho entre o inimigo e o jogador, para o nosso inimigo usar este caminho como refer&ecirc;ncia. J&aacute; a vari&aacute;vel speed representa a velocidade do inimigo. </span></p><p class="c0"><span class="c2"></span></p><p class="c1"><span class="c2">Agora vamos criar um processo para movimentar o inimigo assim que ele possuir um caminho. Adicione este script ap&oacute;s as vari&aacute;veis.</span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 602.00px; height: 176.00px;"><img alt="" src="images/image12.png" style="width: 602.00px; height: 176.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c2"></span></p><p class="c1"><span class="c2">A linha 7 verifica se o inimigo possui um caminho. Se possuir, criamos a vari&aacute;vel dir. Esta vari&aacute;vel ser&aacute; um Vector3 que armazena a dire&ccedil;&atilde;o que inimigo tem que andar e dist&acirc;ncia entre o ponto mais pr&oacute;ximo que explicamos mais cedo. </span></p><p class="c0"><span class="c2"></span></p><p class="c1"><span class="c2">A linha 11 verifica se o inimigo est&aacute; pr&oacute;ximo ao ponto mais pr&oacute;ximo. Se for verdade o c&oacute;digo remove o ponto, fazendo o inimigo ir para o pr&oacute;ximo ponto. Se n&atilde;o, a linha 14 move o inimigo para o ponto mais pr&oacute;ximo</span></p><p class="c0"><span class="c2"></span></p><p class="c1"><span class="c6">Agora s&oacute; precisamos daquela fun&ccedil;&atilde;o que faz o inimigo receber o caminho: </span><span class="c6 c11 c22">move_to( )</span></p><p class="c0"><span class="c22 c6 c11"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 47.00px;"><img alt="" src="images/image16.png" style="width: 346.00px; height: 47.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c22 c6 c11"></span></p><p class="c1"><span class="c2">Coloque alguns inimigos filhos do nodo Inimigos na cena principal.</span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 147.00px; height: 213.00px;"><img alt="" src="images/image7.png" style="width: 147.00px; height: 213.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c22 c6 c11"></span></p><p class="c1"><span class="c2">Se voc&ecirc; testar o projeto agora voc&ecirc; ver&aacute; um comportamento estranho:</span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 158.00px;"><img alt="" src="images/image24.gif" style="width: 298.00px; height: 158.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c2"></span></p><p class="c1"><span class="c2">Voc&ecirc; vai perceber que os inimigos tendem a ficar presos na parede. Para evitar este tipo de comportamento &eacute; bom desativar a colis&atilde;o dos inimigos com as paredes, mas continuar colidindo com o jogador. Para isso vamos ter alterar as m&aacute;scaras de colis&atilde;o dos inimigos e do jogador. Abra cena do inimigo e altere estas propriedades:</span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 160.00px; height: 182.00px;"><img alt="" src="images/image5.gif" style="width: 160.00px; height: 182.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c2"></span></p><p class="c1"><span class="c2">Isto significa que o inimigo n&atilde;o vai mais colidir com objetos ques esteja na Layer 1 e somente na Layer 2. Todos objetos por padr&atilde;o colidem na Layer 1. Neste caso o inimigo n&atilde;o vai colidir com a parede.</span></p><p class="c0"><span class="c2"></span></p><p class="c1"><span class="c2">Agora vamos alterar a Layer do Player, para ele colidir tanto quanto a Layer 1 e a Layer 2.</span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 160.00px; height: 182.00px;"><img alt="" src="images/image11.gif" style="width: 160.00px; height: 182.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c2"></span></p><p class="c1"><span class="c2">Agora teste o projeto. Voc&ecirc; ter&aacute; um resultado como este abaixo:</span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 303.00px; height: 163.00px;"><img alt="" src="images/image27.gif" style="width: 303.00px; height: 163.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c2"></span></p><p class="c1"><span class="c2">&Eacute; um resultado interessante, mas nos pr&oacute;ximos t&oacute;picos vamos ver como &eacute; poss&iacute;vel melhorar este movimento.</span></p><p class="c0"><span class="c2"></span></p><h1 class="c16" id="h.3q8v29t04nul"><span class="c21 c19">Melhorando a Movimenta&ccedil;&atilde;o do Inimigo</span></h1><p class="c0"><span class="c8"></span></p><ul class="c23 lst-kix_adsovnsx6264-0 start"><li class="c1 c5"><span class="c15 c20">Sistema de Rota&ccedil;&atilde;o Suave</span></li></ul><p class="c1 c7"><span class="c2">A primeira coisa que poder&iacute;amos fazer para melhorar a forma como o inimigo segue o jogador &eacute; faz&ecirc;-lo olhar em dire&ccedil;&atilde;o para onde ele est&aacute; indo. Para isso podemos adicionar essas linhas no script do inimigo, antes da vari&aacute;vel dir.</span></p><p class="c0 c7"><span class="c2"></span></p><p class="c1 c7"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 602.00px; height: 242.67px;"><img alt="" src="images/image26.png" style="width: 602.00px; height: 242.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0 c7"><span class="c2"></span></p><p class="c1 c7"><span class="c2">&nbsp;Se voc&ecirc; testar o projeto o resultado ser&aacute; esse:</span></p><p class="c1 c7"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 303.00px; height: 162.00px;"><img alt="" src="images/image6.gif" style="width: 303.00px; height: 162.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0 c7"><span class="c2"></span></p><p class="c0"><span class="c2"></span></p><p class="c0"><span class="c4 c15"></span></p><p class="c9 c13"><span class="c8"></span></p></body></html>